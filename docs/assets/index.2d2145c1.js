import{S as e,i as s,s as l,e as t,a as n,t as a,b as r,c as o,d as u,f as p,l as i,g as c,n as h,h as d,r as f,j as m,m as g,k as b}from"./vendor.473418fe.js";function y(e){let s,l,m,g,b,y,w,v,A,k,M,U,j,x,C,L,B,D,R,I,T,E,F,O,S,Z,H,J,N,q,z,G,K,P,Q,V,W,X,Y,$,_,ee,se,le,te,ne,ae,re,oe,ue,pe,ie,ce,he,de,fe,me,ge,be,ye,we,ve,Ae,ke,Me,Ue,je;return{c(){s=t("main"),l=t("h1"),l.textContent="the osu! replay edit thing yes",m=n(),g=t("label"),b=a("Upload your replay file here"),y=t("br"),w=n(),v=t("input"),A=n(),k=t("p"),M=a("file name = "),U=a(e[0]),j=t("br"),x=a("\n    game mode = "),C=a(e[1]),L=t("br"),B=a("\n    game version = "),D=a(e[2]),R=t("br"),I=a("\n    beatmap MD5 = "),T=a(e[3]),E=t("br"),F=a("\n    replay MD5 = "),O=a(e[5]),S=t("br"),Z=a("\n    replay player name = "),H=a(e[4]),J=t("br"),N=n(),q=t("p"),z=a(e[12]),G=a(" (x"),K=a(e[13]),P=a("), "),Q=a(e[6]),V=a(" | "),W=a(e[7]),X=a(" | "),Y=a(e[8]),$=a(" | "),_=a(e[9]),ee=a(" | "),se=a(e[10]),le=a(" | "),te=a(e[11]),ne=n(),ae=t("p"),re=t("label"),oe=a("Overwrite beatmap MD5 (e.g. after edit uploads)"),ue=t("br"),pe=n(),ie=t("input"),ce=n(),he=t("p"),de=a("Tweak scroll speed"),fe=t("br"),me=n(),ge=t("small"),ge.innerHTML="Note: This is <b>not</b> the osu!mania scroll speed and the scale will be different for every map\n      (I have no idea what the value actually represents yet),\n      but all you need to know is that smaller is slower and bigger is faster.\n      Just try and see what works I guess.",be=n(),ye=t("label"),we=t("input"),ve=n(),Ae=a(e[14]),ke=n(),Me=t("button"),Me.textContent="Download edited replay",r(l,"class","svelte-1apepo4"),r(v,"type","file"),r(g,"class","svelte-1apepo4"),r(k,"class","svelte-1apepo4"),r(q,"class","svelte-1apepo4"),r(ie,"type","file"),r(re,"class","svelte-1apepo4"),r(ae,"class","svelte-1apepo4"),r(we,"type","range"),r(we,"min","0"),r(we,"max","100"),r(ye,"class","svelte-1apepo4"),r(he,"class","svelte-1apepo4"),r(s,"class","svelte-1apepo4")},m(t,n){o(t,s,n),u(s,l),u(s,m),u(s,g),u(g,b),u(g,y),u(g,w),u(g,v),u(s,A),u(s,k),u(k,M),u(k,U),u(k,j),u(k,x),u(k,C),u(k,L),u(k,B),u(k,D),u(k,R),u(k,I),u(k,T),u(k,E),u(k,F),u(k,O),u(k,S),u(k,Z),u(k,H),u(k,J),u(s,N),u(s,q),u(q,z),u(q,G),u(q,K),u(q,P),u(q,Q),u(q,V),u(q,W),u(q,X),u(q,Y),u(q,$),u(q,_),u(q,ee),u(q,se),u(q,le),u(q,te),u(s,ne),u(s,ae),u(ae,re),u(re,oe),u(re,ue),u(re,pe),u(re,ie),u(s,ce),u(s,he),u(he,de),u(he,fe),u(he,me),u(he,ge),u(he,be),u(he,ye),u(ye,we),p(we,e[14]),u(ye,ve),u(ye,Ae),u(s,ke),u(s,Me),Ue||(je=[i(v,"change",e[15]),i(ie,"change",e[16]),i(we,"change",e[18]),i(we,"input",e[18]),i(Me,"click",e[17])],Ue=!0)},p(e,[s]){1&s&&c(U,e[0]),2&s&&c(C,e[1]),4&s&&c(D,e[2]),8&s&&c(T,e[3]),32&s&&c(O,e[5]),16&s&&c(H,e[4]),4096&s&&c(z,e[12]),8192&s&&c(K,e[13]),64&s&&c(Q,e[6]),128&s&&c(W,e[7]),256&s&&c(Y,e[8]),512&s&&c(_,e[9]),1024&s&&c(se,e[10]),2048&s&&c(te,e[11]),16384&s&&p(we,e[14]),16384&s&&c(Ae,e[14])},i:h,o:h,d(e){e&&d(s),Ue=!1,f(je)}}}function w(e,s,l){let t=null,n=null,a=null,r=null,o=null,u=null,p=null,i=null,c=null,h=null,d=null,f=null,y=null,w=null,v=null,A=null,k=null,M=null,U=null,j=null,x=null,C=0;return[t,n,a,r,o,u,p,i,c,h,d,f,y,w,C,e=>{const[s]=e.target.files;if(!s)return;const g=new FileReader;g.onload=e=>{const g=new Uint8Array(e.target.result);let b=0;const L=e=>{let s=0;const l=g.slice(b,b+e);for(let t=0;t<e;++t)s+=l[t]*256**t;return b+=e,s},B=()=>L(1),D=()=>L(2),R=()=>L(4),I=()=>{let e,s=g[b+1];for(e=1;g[b+e]>128;++e)s^=128,s+=g[b+e+1]<<7*e;const l=b+e+1,t=String.fromCharCode(...g.slice(l,l+s));return b+=t.length+e+1,t};l(0,t=s.name),l(1,n=B()),l(2,a=R()),l(3,r=I()),l(4,o=I()),l(5,u=I()),l(7,i=D()),l(9,h=D()),l(10,d=D()),l(6,p=D()),l(8,c=D()),l(11,f=D()),l(12,y=R()),l(13,w=D()),v=B(),A=g.slice(b,b+4),b+=4,console.log(A),k=I(),M=g.slice(b,b+8),b+=8,U=R(),g.slice(b,b+U),j=m.LZMA.decompress(g.slice(b,b+U)).split(","),b+=U,x=g.slice(b),l(14,C=+j.find((e=>{const[,,s]=e.split("|");return+s>0})).split("|")[2])},g.readAsArrayBuffer(s)},e=>{const[s]=e.target.files;if(!s)return;const t=new FileReader;t.onload=e=>{const s=new Uint8Array(e.target.result);l(3,r=g(s))},t.readAsArrayBuffer(s)},()=>{const e=[],s=(e,s)=>{const l=[];for(let t=0;t<s;++t)l.push(e%256),e>>=8;return l},l=e=>s(e,1),g=e=>s(e,2),b=e=>s(e,4),L=e=>{const s=[11];let{length:l}=e;do{s.push(l%128+(l>=128?128:0)),l>>=7}while(l>0);return s.push(...e.split("").map((e=>e.charCodeAt()))),s};e.push(...l(n)),e.push(...b(a)),e.push(...L(r)),e.push(...L(o)),e.push(...L(u)),e.push(...g(i)),e.push(...g(h)),e.push(...g(d)),e.push(...g(p)),e.push(...g(c)),e.push(...g(f)),e.push(...b(y)),e.push(...g(w)),e.push(...l(v)),e.push(...A),e.push(...L(k)),e.push(...M);const B=m.LZMA.compress(j.map((e=>{if(!e.trim())return e;const[s,l,t,n]=e.split("|");return+t<=0?e:[s,l,C,n].join("|")})).join(","),1);console.log(B,U,B.length),e.push(...b(B.length)),e.push(...B),e.push(...x);const D=document.createElement("a");D.href=URL.createObjectURL(new Blob([new Uint8Array(e).buffer],{type:"application/osu"})),D.download=t,D.click()},function(){C=b(this.value),l(14,C)}]}new class extends e{constructor(e){super(),s(this,e,w,y,l,{})}}({target:document.getElementById("app")});
